{"version":3,"file":"js/index.833ded48.js","mappings":"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","sources":["webpack://shiant-vr/./pages/show/App.vue","webpack://shiant-vr/./pages/show/components/vr_canvas.vue","webpack://shiant-vr/./commonjs/assembly.js","webpack://shiant-vr/./pages/show/components/vr_canvas.vue?b505","webpack://shiant-vr/./pages/show/App.vue?f8d2","webpack://shiant-vr/./pages/show/main.js","webpack://shiant-vr/webpack/bootstrap","webpack://shiant-vr/webpack/runtime/chunk loaded","webpack://shiant-vr/webpack/runtime/compat get default export","webpack://shiant-vr/webpack/runtime/define property getters","webpack://shiant-vr/webpack/runtime/global","webpack://shiant-vr/webpack/runtime/hasOwnProperty shorthand","webpack://shiant-vr/webpack/runtime/jsonp chunk loading","webpack://shiant-vr/webpack/startup"],"sourcesContent":["<template>\r\n  <vr_canvas></vr_canvas>\r\n</template>\r\n\r\n<script>\r\nimport vr_canvas from './components/vr_canvas.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  data(){\r\n    return{\r\n      showImage: false,\r\n      srcList: [],\r\n      isLoad: true\r\n    }\r\n  },\r\n  components: {\r\n    vr_canvas\r\n  },\r\n  methods: {\r\n    \r\n  },\r\n  mounted() {\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nbody{\r\n  margin: 0;\r\n}\r\n#digit_app {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n</style>\r\n","<template>\r\n\t<div ref=\"digit_glb\" style=\"width:100%;height:100%;position: relative;overflow: hidden;\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport * as assembly from '../../../commonjs/assembly.js';\r\n\r\n\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tautoTurn: false,\r\n\t\t\tviewSize: 75, //入场动画视角140\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取URL参数\r\n\t\tgetUrlParams(name) {\r\n\t\t\tlet searchParams = new URLSearchParams(window.location.search);\r\n\t\t\tlet paramValue = searchParams.get(name);\r\n\t\t\treturn paramValue;\r\n\t\t},\r\n\t\t// 场景加载完成的回调\r\n\t\tsceneCallback() {\r\n\t\t\tif (window.assembly) {\r\n\t\t\t\twindow.callback = window.assembly;\r\n\t\t\t}\r\n\r\n\t\t\tif (window.digit_glbCallback){\r\n\t\t\t\twindow.digit_glbCallback('scene',window.callback)\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 加载场景、相机、渲染器、轨道控制器\r\n\t\tload_vr(dom) {\r\n\t\t\tvar that = this;\r\n\t\t\t// 场景、相机、渲染器\r\n\t\t\twindow.vr_scene = new THREE.Scene();\r\n\t\t\twindow.vr_camera = new THREE.PerspectiveCamera(this.viewSize, dom.offsetWidth / dom.offsetHeight, 0.1, 2000);\r\n\t\t\twindow.vr_render = new THREE.WebGLRenderer({\r\n\t\t\t\tantialias: true,\r\n\t\t\t\talpha: true,\r\n\t\t\t});\r\n\r\n\t\t\twindow.vr_render.domElement.style.pointerEvents = 'none';\r\n\t\t\twindow.vr_render.precision = 'mediump';\r\n\r\n\t\t\t// 设置渲染器大小\r\n\t\t\twindow.vr_render.setSize(dom.offsetWidth, dom.offsetHeight);\r\n\t\t\twindow.vr_render.shadowMap.enabled = true;\r\n\t\t\tdom.appendChild(window.vr_render.domElement);\r\n\r\n\t\t\t// 轨道控制器\r\n\t\t\twindow.vr_controls = new OrbitControls(window.vr_camera, window.vr_render.domElement);\r\n\t\t\twindow.vr_controls.dampingFactor = 0.15;\r\n\t\t\twindow.vr_controls.rotateSpeed = 0.6;\r\n\t\t\twindow.vr_controls.enableDamping = true;\r\n\t\t\twindow.vr_controls.enablePan = false;\r\n\t\t\twindow.vr_controls.enableZoom = false;\r\n\t\t\twindow.vr_controls.update();\r\n\t\t\twindow.vr_controls.touches = {\r\n\t\t\t\tONE: THREE.TOUCH.ROTATE\r\n\t\t\t};\r\n\t\t\twindow.vr_controls.autoRotateSpeed = 3.0;\r\n\r\n\t\t\tvar qidong;\r\n\r\n\t\t\t// 监听鼠标拖动事件\r\n\t\t\twindow.vr_render.domElement.addEventListener('mousedown', function() {\r\n\t\t\t\tclearTimeout(qidong)\r\n\t\t\t\tthat.autoTurn = false;\r\n\t\t\t});\r\n\t\t\t// 监听鼠标释放事件\r\n\t\t\twindow.vr_render.domElement.addEventListener('mouseup', function(){\r\n\t\t\t\tqidong = setTimeout(function() {\r\n\t\t\t\t\tthat.autoTurn = true;\r\n\t\t\t\t}, 3000);\r\n\t\t\t});\r\n\r\n\t\t\t// 设置相机起始坐标\r\n\t\t\twindow.vr_camera.position.set(0, 0, 100);\r\n\t\t\twindow.vr_camera.lookAt(0, 0, 0);\r\n\r\n\t\t\t// 渲染场景\r\n\t\t\twindow.vr_render.render(window.vr_scene, window.vr_camera);\r\n\r\n\t\t\t// 启动事件\r\n\t\t\tthis.animate_vr()\r\n\t\t\tthis.changeVR_dom(dom)\r\n\t\t\tthis.wheel_view(window.vr_render.domElement)\r\n\t\t\tthis.click_vr_module()\r\n\t\t\tthis.update_add(\"加入轨道\", () => { window.vr_controls.update() })\r\n\r\n\t\t\t// 光源\r\n\t\t\t// const pointLight = new THREE.PointLight(0xffffff, 1, 3000);\r\n\t\t\t// pointLight.position.set(0, 50, 0);\r\n\t\t\t// pointLight.castShadow = false;\r\n\t\t\t// window.vr_scene.add(pointLight);\r\n\r\n\t\t\t// const pointLight2 = new THREE.PointLight(0x0c0c0c, 0.3, 3000);\r\n\t\t\t// pointLight2.position.set(0, -50, 0);\r\n\t\t\t// pointLight2.castShadow = false;\r\n\t\t\t// window.vr_scene.add(pointLight2);\r\n\r\n\t\t\t// const pointLight3 = new THREE.PointLight(0xffffff, 0.3, 3000);\r\n\t\t\t// pointLight3.position.set(0, 0, 0);\r\n\t\t\t// pointLight3.castShadow = false;\r\n\t\t\t// window.vr_scene.add(pointLight3);\r\n\r\n\t\t\tvar ambienLight = new THREE.AmbientLight(0xa1c6c5);\r\n\t\t\tambienLight.intensity = 0.5;\r\n\t\t\twindow.vr_scene.add(ambienLight);\r\n\r\n\t\t\tconst directionalLight = new THREE.DirectionalLight(0x546aff,2);\r\n\t\t\tdirectionalLight.castShadow = true;\r\n\t\t\tdirectionalLight.shadow.mapSize.width = 2048;\r\n\t\t\tdirectionalLight.shadow.mapSize.height = 2048;\r\n\t\t\tdirectionalLight.position.set(-100,100,100);\r\n\t\t\twindow.vr_scene.add(directionalLight);\r\n\r\n\t\t\tconst directionalLight2 = new THREE.DirectionalLight(0xff28c9,2);\r\n\t\t\tdirectionalLight2.castShadow = true;\r\n\t\t\tdirectionalLight2.shadow.mapSize.width = 2048;\r\n\t\t\tdirectionalLight2.shadow.mapSize.height = 2048;\r\n\t\t\tdirectionalLight2.position.set(100,100,-100);\r\n\t\t\twindow.vr_scene.add(directionalLight2);\r\n\r\n\t\t\tconst directionalLight3 = new THREE.DirectionalLight(0xff9000,1);\r\n\t\t\tdirectionalLight3.castShadow = true;\r\n\t\t\tdirectionalLight3.shadow.mapSize.width = 2048;\r\n\t\t\tdirectionalLight3.shadow.mapSize.height = 2048;\r\n\t\t\tdirectionalLight3.position.set(10,-100,100);\r\n\t\t\twindow.vr_scene.add(directionalLight3);\r\n\r\n\t\t\t// VR准备完成\r\n\t\t\tif (window.digit_glbCallback){\r\n\t\t\t\twindow.digit_glbCallback('scene_Loading_Completed',null)\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 加载场景对象\r\n\t\tload_vrJson(data) {\r\n\t\t\twindow.vr_render.domElement.style.pointerEvents = 'auto';\r\n\r\n\t\t\t// 清除旧组件\r\n\t\t\tif (window.assembly) {\r\n\t\t\t\twindow.assembly.dispose()\r\n\t\t\t\twindow.assembly = null;\r\n\t\t\t}\r\n\r\n\t\t\tlet vr_module = this.assembly_glb(data);\r\n\t\t\twindow.assembly = vr_module;\r\n\t\t\twindow.vr_scene.add(vr_module.container)\r\n\t\t},\r\n\t\t// 执行动画\r\n\t\tanimate_vr() {\r\n\t\t\tif (window.vr_animate_updata) {\r\n\t\t\t\twindow.vr_animate_updata.map((item) => {\r\n\t\t\t\t\titem.f()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\twindow.vr_camera.fov = this.viewSize;\r\n\t\t\twindow.vr_camera.updateProjectionMatrix();\r\n\t\t\twindow.vr_controls.autoRotate = this.autoTurn;\r\n\r\n\t\t\trequestAnimationFrame(this.animate_vr);\r\n\t\t\twindow.vr_render.render(window.vr_scene, window.vr_camera);\r\n\t\t},\r\n\t\t// 监听dom宽高变化\r\n\t\tchangeVR_dom(dom) {\r\n\t\t\twindow.onresize = function () {\r\n\t\t\t\tvar newWidth = dom.clientWidth;\r\n\t\t\t\tvar newHeight = dom.clientHeight;\r\n\t\t\t\twindow.vr_camera.aspect = newWidth / newHeight;\r\n\t\t\t\twindow.vr_camera.updateProjectionMatrix();\r\n\t\t\t\twindow.vr_render.setSize(newWidth, newHeight);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 手动刷新宽高\r\n\t\tchange_WH(){\r\n\t\t\tvar dom = this.$refs.digit_glb;\r\n\t\t\tvar newWidth = dom.clientWidth;\r\n\t\t\tvar newHeight = dom.clientHeight;\r\n\t\t\twindow.vr_camera.aspect = newWidth / newHeight;\r\n\t\t\twindow.vr_camera.updateProjectionMatrix();\r\n\t\t\twindow.vr_render.setSize(newWidth, newHeight);\r\n\t\t},\r\n\t\t// 加入更新数据\r\n\t\tupdate_add(name, f) {\r\n\t\t\twindow.update_del = this.update_del\r\n\t\t\tif (window.vr_animate_updata) {\r\n\t\t\t\twindow.vr_animate_updata.push({\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tf: f\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\twindow.vr_animate_updata = []\r\n\t\t\t\twindow.vr_animate_updata.push({\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tf: f\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 退出更新数据\r\n\t\tupdate_del(name) {\r\n\t\t\tif (window.vr_animate_updata) {\r\n\t\t\t\twindow.vr_animate_updata.map((item, index) => {\r\n\t\t\t\t\tif (item.name == name) {\r\n\t\t\t\t\t\twindow.vr_animate_updata.splice(index, 1)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 鼠标滚轮改变视野\r\n\t\twheel_view(dom) {\r\n\t\t\tdom.addEventListener('wheel', onMousewheel, false);\r\n\t\t\tvar that = this;\r\n\t\t\tfunction onMousewheel(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\tvar delta = event.deltaY || event.detail || 0;\r\n\t\t\t\tdelta = delta > 0 ? -1 : delta < 0 ? 1 : 0;\r\n\t\t\t\tif (delta > 0) {\r\n\t\t\t\t\tif (that.viewSize > 40) {\r\n\t\t\t\t\t\tthat.viewSize -= 1.5\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (that.viewSize < 110) {\r\n\t\t\t\t\t\tthat.viewSize += 1.5\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 组件点击监听\r\n\t\tclick_vr_module() {\r\n\t\t\tvar clickGlb = false;\r\n\t\t\tvar clickGlb2 = false;\r\n\t\t\tvar moveAss = null;\r\n\r\n\t\t\t// 鼠标监听\r\n\t\t\twindow.vr_render.domElement.addEventListener('mousedown', function (event) {\r\n\t\t\t\tconst raycaster = new THREE.Raycaster();\r\n\t\t\t\tconst mouse = new THREE.Vector2();\r\n\t\t\t\tmouse.x = ((event.clientX - window.vr_render.domElement.getBoundingClientRect().left) / window.vr_render.domElement.offsetWidth) * 2 - 1;\r\n\t\t\t\tmouse.y = -((event.clientY - window.vr_render.domElement.getBoundingClientRect().top) / window.vr_render.domElement.offsetHeight) * 2 + 1;\r\n\t\t\t\traycaster.setFromCamera(mouse, window.vr_camera);\r\n\r\n\t\t\t\tconst intersects = raycaster.intersectObjects(window.vr_scene.children, true);\r\n\t\t\t\tvar selectedObject = null;\r\n\r\n\t\t\t\t// 先判断是否为模型\r\n\t\t\t\tfor (let i = 0; i < intersects.length; i++) {\r\n\t\t\t\t\tselectedObject = intersects[i].object;\r\n\t\t\t\t\twhile (selectedObject.parent) {\r\n\t\t\t\t\t\tselectedObject = selectedObject.parent;\r\n\t\t\t\t\t\tif (selectedObject.userData['diy_type'] == 'glb') {\r\n\t\t\t\t\t\t\tclickGlb = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (clickGlb) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (clickGlb) { // 模型\r\n\t\t\t\t\tmoveAss = selectedObject;\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\t\t\twindow.vr_render.domElement.addEventListener('mouseup', function (event) {\r\n\t\t\t\tconst raycaster = new THREE.Raycaster();\r\n\t\t\t\tconst mouse = new THREE.Vector2();\r\n\t\t\t\tmouse.x = ((event.clientX - window.vr_render.domElement.getBoundingClientRect().left) / window.vr_render.domElement.offsetWidth) * 2 - 1;\r\n\t\t\t\tmouse.y = -((event.clientY - window.vr_render.domElement.getBoundingClientRect().top) / window.vr_render.domElement.offsetHeight) * 2 + 1;\r\n\t\t\t\traycaster.setFromCamera(mouse, window.vr_camera);\r\n\r\n\t\t\t\tconst intersects = raycaster.intersectObjects(window.vr_scene.children, true);\r\n\t\t\t\tvar selectedObject = null;\r\n\r\n\t\t\t\t// 先判断是否为模型\r\n\t\t\t\tfor (let i = 0; i < intersects.length; i++) {\r\n\t\t\t\t\tselectedObject = intersects[i].object;\r\n\t\t\t\t\twhile (selectedObject.parent) {\r\n\t\t\t\t\t\tselectedObject = selectedObject.parent;\r\n\t\t\t\t\t\tif (selectedObject.userData['diy_type'] == 'glb') {\r\n\t\t\t\t\t\t\tclickGlb2 = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (clickGlb2) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (clickGlb2 && clickGlb) { // 模型\r\n\t\t\t\t\tif (moveAss.userData['class']) {\r\n\t\t\t\t\t\tif (moveAss.userData['class'].click) {\r\n\t\t\t\t\t\t\tmoveAss.userData['class'].click()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmoveAss = null;\r\n\t\t\t\tclickGlb = false;\r\n\t\t\t\tclickGlb2 = false;\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 模型组件\r\n\t\tassembly_glb(data) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar assembly_vr = new assembly.vr_glb(\r\n\t\t\t\t'glb',\r\n\t\t\t\tdata.size,\r\n\t\t\t\t{\"x\": 0,\"y\": 0,\"z\": 0},\r\n\t\t\t\tdata.rotate,\r\n\t\t\t\tdata.data.url,\r\n\t\t\t\tthis.update_add,\r\n\t\t\t\tthis.update_del,\r\n\t\t\t\t(obj) => {\r\n\t\t\t\t\tobj.speed = data.data.animationSpeed;\r\n\t\t\t\t\tif (data.data.animation != -1) {\r\n\t\t\t\t\t\tobj.changeAction(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.sceneCallback('glb')\r\n\t\t\t\t\tthat.autoTurn = true;\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\treturn assembly_vr;\r\n\t\t},\r\n\t\t// 加载模型动作并将其赋给模型对象\r\n\t\tloadModelAnimation(url,obj,f) {\r\n\t\t\tnew assembly.vr_animation(url,obj,(res)=>{\r\n\t\t\t\tf(res)\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\twindow.digit_glb.load_vrJson = this.load_vrJson;\r\n\t\twindow.digit_glb.load_Animation = this.loadModelAnimation;\r\n\t\twindow.digit_glb.upWH = this.change_WH;\r\n\r\n\t\tthis.load_vr(this.$refs.digit_glb);\r\n\t\t\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n<style>\r\n\r\n</style>\r\n","import * as THREE from 'three'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader';\r\n\r\n\r\n// 销毁空容器对象\r\nfunction disposeObject3D(object) {\r\n    object.parent.remove(object);\r\n    while (object.children.length > 0) {\r\n        disposeObject3D(object.children[0]);\r\n        object.remove(object.children[0]);\r\n    }\r\n    object = null;\r\n}\r\n\r\n/*\r\n**模型组件\r\nname:string\r\nsize:num\r\nposition:{x,y,z}\r\nrotation:{x,y,z}\r\nurl:string\r\n*/\r\nclass vr_glb{\r\n    constructor(name,size,position,rotation,url,addUpdata,delUpdata,f){\r\n        this.id = 'vr_glb_'+Math.random().toString(16).slice(2);\r\n        this.type = 'glb';\r\n        this.name = name;\r\n\r\n        this.addUpdata = addUpdata;\r\n        this.delUpdata = delUpdata;\r\n        \r\n        this.container = new THREE.Object3D();\r\n        this.container.position.x = position.x;\r\n        this.container.position.y = position.y;\r\n        this.container.position.z = position.z;\r\n        this.container.userData['diy_type'] = 'glb';\r\n        this.container.userData['class'] = this;\r\n        \r\n        this.loader = new GLTFLoader();\r\n        this.glb = null;\r\n        this.animations = null;\r\n        \r\n        this.time = Date.now();\r\n        this.speed = 0.01;\r\n\r\n        var that = this;\r\n        const dracoLoader = new DRACOLoader();\r\n        dracoLoader.setDecoderPath( './model/' );\r\n        this.loader.setDRACOLoader( dracoLoader );\r\n       \r\n        this.loaderControl = this.loader.load(url,function(gltf){\r\n            that.glb = gltf;\r\n            gltf.scene.scale.set(size,size,size);\r\n            gltf.scene.castShadow = false;\r\n            gltf.scene.rotation.x = rotation.x;\r\n            gltf.scene.rotation.y = rotation.y;\r\n            gltf.scene.rotation.z = rotation.z;\r\n            \r\n            // that.glbCenter()\r\n\r\n            // 将TextureLoader的encoding属性设置为THREE.LinearEncoding\r\n            // 将纹理应用到材质，并设置其encoding属性为TextureLoader的encoding属性\r\n            var textureLoader = new THREE.TextureLoader();\r\n            textureLoader.encoding = THREE.LinearEncoding;\r\n            gltf.scene.traverse(function (child) {\r\n                if (child.isMesh && child.material.map) {\r\n                    child.material.map.encoding = textureLoader.encoding;\r\n                }\r\n            });\r\n\r\n            that.container.add(gltf.scene)\r\n\r\n            that.animations = gltf.animations;\r\n            if(that.animations.length){\r\n                that.mixer = new THREE.AnimationMixer(gltf.scene);\r\n                that.action = that.mixer.clipAction(that.animations[0]);\r\n                that.addUpdata(that.id,()=>{\r\n                    let time = Date.now();\r\n                    let differ = time - that.time;\r\n                    that.time = time;\r\n                    let speed = that.speed*(differ/20);\r\n                    that.mixer.update(speed)\r\n                })\r\n            }\r\n\r\n            that.container.name = 'glb_'+name;\r\n\r\n            f(that)\r\n            if(that.addAction_f){\r\n                that.addAction_f()\r\n            }\r\n            if(that.callback_f){\r\n                that.callback_f()\r\n            }\r\n        },undefined,function(error){\r\n            console.error(error)\r\n        })\r\n\r\n        this.geometry = new THREE.ConeGeometry(2,2,30);\r\n        const edges = new THREE.EdgesGeometry(this.geometry);\r\n        const lineMaterial = new THREE.LineBasicMaterial({ color: \"#000\" });\r\n        this.edgesLine = new THREE.LineSegments(edges, lineMaterial);\r\n        this.edgesLine.position.y = 1\r\n        this.edgesLine.userData['edgesLine'] = true;\r\n        this.container.userData['Selected'] = false;\r\n\r\n        this.turnSpeed = 0;\r\n    }\r\n\r\n    callback(f){\r\n        if(this.glb){\r\n            f(this)\r\n        }else{\r\n            this.callback_f = function(){\r\n                f(this)\r\n            }\r\n        }\r\n    }\r\n\r\n    glbCenter(){\r\n        // 模型居中\r\n        var glb = this.glb.scene;\r\n        var box3 = new THREE.Box3()\r\n        box3.setFromObject(glb);\r\n        var center = new THREE.Vector3()\r\n        box3.getCenter(center)\r\n        glb.position.sub(center);\r\n    }\r\n\r\n    changeSize(value){\r\n        var glb = this.glb.scene;\r\n        this.container.remove(glb);\r\n\r\n        glb.scale.set(value,value,value);\r\n\r\n        this.container.add(glb);\r\n    }\r\n\r\n    addAction(action,f){\r\n        if(this.animations){\r\n            var count = this.animations.length;\r\n            for(var i=0;i<action.length;i++){\r\n                this.animations[count+i] = action[i]\r\n            }\r\n            f(this)\r\n        }else{\r\n            this.addAction_f = function(){\r\n                var count = this.animations.length;\r\n                for(var i=0;i<action.length;i++){\r\n                    this.animations[count+i] = action[i]\r\n                }\r\n                f(this)\r\n            }\r\n        }\r\n    }\r\n\r\n    addEdge(){\r\n        this.container.add(this.edgesLine)\r\n    }\r\n\r\n    delEdge(){\r\n        this.container.remove(this.edgesLine)\r\n    }\r\n\r\n    getAction(){\r\n        return this.animations;\r\n    }\r\n\r\n    autoTurn(type){\r\n        var glb = this.glb.scene;\r\n        this.delUpdata(this.id+'turn')\r\n        if(type == 'auto-left'){\r\n            this.addUpdata(this.id+'turn',()=>{\r\n                this.container.remove(glb);\r\n                glb.rotation.y -= this.turnSpeed;\r\n                this.glbCenter();\r\n                this.container.add(glb);\r\n            })\r\n        }else if(type == 'auto-right'){\r\n            this.addUpdata(this.id+'turn',()=>{\r\n                this.container.remove(glb);\r\n                glb.rotation.y += this.turnSpeed;\r\n                this.glbCenter();\r\n                this.container.add(glb);\r\n            })\r\n        }\r\n    }\r\n\r\n    changeAction(num){\r\n        if(num < 0 && this.animations.length!=0){\r\n            this.action.stop();\r\n        }else if(this.animations.length){\r\n            if(this.animations.length>=(num+1)){\r\n                this.action.stop();\r\n                this.action = this.mixer.clipAction(this.animations[num]);\r\n                this.action.setLoop(THREE.LoopRepeat);\r\n                this.action.play();\r\n            }else{\r\n                console.warn('Not have this animation!')\r\n            }\r\n        }else{\r\n            console.warn('Not have animation!')\r\n        }\r\n    }\r\n\r\n    onceAction(num){\r\n        if(num < 0 && this.animations.length!=0){\r\n            this.action.stop();\r\n        }else if(this.animations.length){\r\n            if(this.animations.length>=(num+1)){\r\n                this.action.stop();\r\n                this.action = this.mixer.clipAction(this.animations[num]);\r\n                this.action.setLoop(THREE.LoopOnce);\r\n                this.action.play();\r\n            }else{\r\n                console.warn('Not have this animation!')\r\n            }\r\n        }else{\r\n            console.warn('Not have animation!')\r\n        }\r\n    }\r\n\r\n    dispose(){\r\n        this.delUpdata(this.id)\r\n        this.delUpdata(this.id+'turn')\r\n        if(this.loaderControl != null){\r\n            this.loaderControl.abort()\r\n        }\r\n        if (this.glb) {\r\n            this.glb.scene.traverse(function(child) {\r\n                if (child.isMesh) {\r\n                    child.geometry.dispose();\r\n                    child.material.dispose();\r\n                    if (child.material.map) {\r\n                        child.material.map.dispose();\r\n                    }\r\n                }\r\n            });\r\n            this.container.remove(this.glb.scene);\r\n            if(this.mixer){\r\n                this.mixer.stopAllAction();\r\n            }\r\n            this.glb = null;\r\n        }\r\n        disposeObject3D(this.container);\r\n    }\r\n}\r\n\r\n\r\n\r\n// 模型动画\r\nclass vr_animation{\r\n    constructor(url,obj,f){\r\n        this.loader = new GLTFLoader();\r\n        this.animations = null;\r\n\r\n        var that = this;\r\n        const dracoLoader = new DRACOLoader();\r\n        dracoLoader.setDecoderPath( './model/' );\r\n        this.loader.setDRACOLoader( dracoLoader );\r\n\r\n        this.loader.load(url,function(gltf){\r\n            that.animations = gltf.animations;\r\n            if(that.animations.length){\r\n                obj.addAction(that.animations,f)\r\n            }\r\n        },undefined,function(error){\r\n            console.error(error)\r\n        })\r\n    }\r\n\r\n    getAction(){\r\n        return this.animations;\r\n    }\r\n}\r\n\r\nexport {vr_glb,vr_animation}\r\n\r\n\r\n","import { render } from \"./vr_canvas.vue?vue&type=template&id=0de48b1a\"\nimport script from \"./vr_canvas.vue?vue&type=script&lang=js\"\nexport * from \"./vr_canvas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\zhengxl\\\\project\\\\glb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=30632c43\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=30632c43&lang=css\"\n\nimport exportComponent from \"E:\\\\zhengxl\\\\project\\\\glb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\n\r\nconst app = createApp(App);\r\n\r\napp.mount('#digit_app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkshiant_vr\"] = self[\"webpackChunkshiant_vr\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9705); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_vr_canvas","ref","style","_createElementBlock","_hoisted_1","disposeObject3D","object","parent","remove","children","length","vr_glb","constructor","name","size","position","rotation","url","addUpdata","delUpdata","f","this","id","Math","random","toString","slice","type","container","THREE","x","y","z","userData","loader","GLTFLoader","glb","animations","time","Date","now","speed","that","dracoLoader","DRACOLoader","setDecoderPath","setDRACOLoader","loaderControl","load","gltf","scene","scale","set","castShadow","textureLoader","encoding","traverse","child","isMesh","material","map","add","mixer","action","clipAction","differ","update","addAction_f","callback_f","undefined","error","console","geometry","edges","lineMaterial","color","edgesLine","turnSpeed","callback","glbCenter","box3","setFromObject","center","getCenter","sub","changeSize","value","addAction","count","i","addEdge","delEdge","getAction","autoTurn","changeAction","num","stop","setLoop","play","warn","onceAction","dispose","abort","stopAllAction","vr_animation","obj","data","viewSize","methods","getUrlParams","searchParams","URLSearchParams","window","location","search","paramValue","get","sceneCallback","assembly","digit_glbCallback","load_vr","dom","qidong","vr_scene","vr_camera","offsetWidth","offsetHeight","vr_render","antialias","alpha","domElement","pointerEvents","precision","setSize","shadowMap","enabled","appendChild","vr_controls","OrbitControls","dampingFactor","rotateSpeed","enableDamping","enablePan","enableZoom","touches","ONE","autoRotateSpeed","addEventListener","clearTimeout","setTimeout","lookAt","render","animate_vr","changeVR_dom","wheel_view","click_vr_module","update_add","ambienLight","intensity","directionalLight","shadow","mapSize","width","height","directionalLight2","directionalLight3","load_vrJson","vr_module","assembly_glb","vr_animate_updata","item","fov","updateProjectionMatrix","autoRotate","requestAnimationFrame","onresize","newWidth","clientWidth","newHeight","clientHeight","aspect","change_WH","$refs","digit_glb","update_del","push","index","splice","onMousewheel","event","preventDefault","stopPropagation","delta","deltaY","detail","clickGlb","clickGlb2","moveAss","raycaster","mouse","clientX","getBoundingClientRect","left","clientY","top","setFromCamera","intersects","intersectObjects","selectedObject","click","assembly_vr","rotate","animationSpeed","animation","loadModelAnimation","res","mounted","load_Animation","upWH","__exports__","showImage","srcList","isLoad","components","vr_canvas","app","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}